---
import { articles } from '../data/articles';

interface Props {
  slugs: string[];
}

const { slugs } = Astro.props;
const related = articles.filter(a => slugs.includes(a.slug));
---

{related.length > 0 && (
  <section class="mt-12 pt-8 border-t-2 border-bark-200">
    <h2 class="text-2xl font-bold text-bark-800 mb-6" style="font-family: var(--font-heading)">
      üêæ You Might Also Like
    </h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      {related.map(article => (
        <a
          href={`/blog/${article.slug}/`}
          class="group flex items-center gap-4 p-3 bg-cream-50 border border-bark-200 rounded-xl hover:border-forest-300 hover:bg-forest-50 transition-all overflow-hidden"
        >
          {article.image ? (
            <div class="w-16 h-16 sm:w-20 sm:h-20 shrink-0 rounded-lg overflow-hidden">
              <img
                src={article.image}
                alt={article.title}
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                loading="lazy"
                decoding="async"
              />
            </div>
          ) : (
            <span class="text-3xl shrink-0">{article.emoji}</span>
          )}
          <div>
            <h3 class="font-semibold text-bark-700 group-hover:text-forest-700 transition-colors text-sm leading-snug">
              {article.title}
            </h3>
            <span class="text-xs text-bark-400 mt-1 block">{article.readTime}</span>
          </div>
        </a>
      ))}
    </div>
  </section>
)}
